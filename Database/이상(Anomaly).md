# 이상(Anomaly)
**하나의 릴레이션에 하나 이상 엔티티의 애트리뷰트를 혼합하면 문제가 발생한다. 따라서 정규화를 진행해야한다.**

![image](https://github.com/2024-Computer-Science/2024-Computer-Science/assets/83461362/6f22c753-b261-4ec3-9cc2-a654d2e2b6b5)

### 1. 삽입 이상

`EMP_DEPT`에 삽입할 때, 부서가 정해지지 않은 직원이나, 직원이 없는 부서를 **Insert**하면 문제가 발생한다.

기본키는 `{SSN, Dnumber}` **복합키**이다. 부서가 정해지지 않았다면 `DNumber`를 `NULL`로 해야되는데, **기본키는 `NULL`이 될 수 없으므로 이상이 발생**한다. 

마찬가지로 직원이 없는 부서라면 `SSN`을 `NULL`로 해야하는데 기본키는 `NULL`이 될 수 없으므로 이상이 발생한다.

굳이 삽입하려면 직원없음, 부서없음 과 같은 키를 만들어야한다. → **불필요한 데이터를 추가해야 삽입할 수 있는 상황이 됨** → 삽입 이상

### 2. 삭제 이상

부서의 마지막 직원을 삭제하면, 부서정보도 함께 사라지게 된다.

**튜플 삭제로 인해 꼭 필요한 데이터까지 함께 삭제됨** → 삭제 이상

### 3. 갱신 이상(수정 이상)

부서의 정보를 변경하면, 부서의 모든 직원 튜플에서 부서의 정보를 동일하게 하나하나 다 변경해야한다. 만약 일부를 변경하지 못하는 경우, 데이터베이스에 이상이 생겨 서로 부서 정보가 다르다거나 그런 일이 생긴다.

**일부만 변경하여 데이터가 불일치 하게되는 모순이 생김** → 갱신 이상

---
### 따라서 정규화를 통해 이상이 생기지 않도록 해야한다~!
