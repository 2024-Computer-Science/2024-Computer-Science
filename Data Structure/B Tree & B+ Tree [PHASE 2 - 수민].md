
> 💡 이진 트리는 하나의 부모가 두개의 자식밖에 갖지 못한다. 따라서 균형이 맞지 않으면 검색 효율이 선형 검색 급으로 떨어진다. 하지만 균형만 맞으면 검색, 삽입, 삭제 모두 O(logN)의 성능을 보이기 때문에, 계속해서 개선이 일어나고 있다.


## B Tree

데이터베이스나 파일 시스템에서 널리 사용되는 트리 자료구조의 일종이다.

**💡 이진 트리를 확장하여 **더 많은 수의 자식**을 가지게 일반화한 트리**


자식 수에 대한 일반화를 진행하며, **하나의 노드에 더 많은 정보가 저장되는 것** 뿐만 아니라 **트리 균형을 자동으로 맞추는 로직**을 가지고 있다.

![image](https://github.com/user-attachments/assets/57f2158f-f28c-42fb-86bb-c2de71518605)

최대 M개의 자식을 가질 수 있는 B Tree를 M차 B-Tree라고 하고, 위 트리는 3차 B Tree이다. 

**특징**

- 노드의 키가 N개이면, 자식 노드수는 N+1개이다.
- 각 노드는 최대 M개부터 최소 M/2개까지의 자식을 가질 수 있다.
- 노드는 최대 M-1개 부터 최소 M/2 -1 개의 키가 포함될 수 있다.
- 노드의 키는 항상 정렬된 상태로 저장된다.

**장점**

단순하고 효율적이며, 레벨로만 따지면 완전한 균형 트리이다.

> 💡 대량의 데이터는 메모리보다 블럭 단위로 입출력하는 하드디스크, SSD에 저장하는데, 한블럭이 1024바이트면, 2바이트를 읽으나 1024바이트를 읽으나 똑같은 입출력비용이 발생한다. 
따라서 하나의 노드를 모두 1024바이트로 꽉 채워서 조절할 수 있으면 입출력에 있어 효율적인 구성이 가능하다. → 한 노드에 여러 키값을 넣을 수 있다는 게 좋다는 뜻


### 검색, 삽입, 삭제 과정

이진 검색 트리 베이스이기 때문에, 크게 다르지 않다.

[B-트리(B-Tree)란? B트리 탐색, 삽입, 삭제 과정](https://velog.io/@chanyoung1998/B트리)

## B+ TREE

b tree의 향상된 버전이다.


**💡 데이터의 빠른 접근을 위한 인덱스 역할만 하는 not leaf 노드가 있고, leaf노드에 실제 데이터가 저장되어있다.
인덱스 부분의 key 값은 leaf에 있는 key값을 찾아가는데 사용한다.**

![image](https://github.com/user-attachments/assets/0ec70607-0da2-4aec-b4eb-a5af5a6fd8de)

**특징**

- 실제 데이터는 리프 노드에만 저장되어 있다.
- 키값의 중복은 허용되지 않는다.
- 리프 노드는 연결리스트 형태로 연결되어있다.
- 리프 노드의 부모 key는 리프노드의 첫번째 key보다 작거나 같다.
- add와 delete가 모두 리프노드에서만 이루어진다.

**장점**

- **효율적인 탐색** : B+ 트리는 **균형 잡힌 트리**로서, 모든 리프 노드까지 도달하기 위한 경로의 길이가 동일.(데이터 탐색 시간복잡도 O(log N))
- **범위탐색 유리**: leaf 노드끼리 **연결 리스트**로 연결되어 있어서 범위 탐색에 매우 유리함
- **순차 액세스 성능**: B+ 트리의 리프 노드는 **연결 리스트**로 구성되어 있으며, 순차 액세스(Sequential Access)를 지원

하지만 데이터를 찾기 위해서는 무조건 리프노드까지 내려가봐야한다는 단점이있다.

### 삽입, 삭제
그림으로 보면 더 이해가 쉽다! 아래 링크로 ⬇️

[[자료구조] 그림으로 알아보는 B+Tree](https://velog.io/@emplam27/자료구조-그림으로-알아보는-B-Plus-Tree)


### B Tree & B+ Tree 차이점
> B-tree는 각 노드에 데이터가 저장됨
> 
> 
> B+tree는 index 노드와 leaf 노드로 분리되어 저장됨
> 
> (또한, leaf 노드는 서로 연결되어 있어서 임의접근이나 순차접근 모두 성능이 우수함)
> 

----
읽어보면 좋을 글!
[데이터베이스 인덱스는 왜 'B-Tree'를 선택하였는가](https://helloinyong.tistory.com/296)
