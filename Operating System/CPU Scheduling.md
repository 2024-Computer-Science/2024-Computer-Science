# CPU Scheduling

## 스케줄링

- 컴퓨터 시스템에서 여러 프로세스가 CPU를 공유하고 실행되는 과정을 관리하는 방법

### 목적

- CPU의 활용도를 높임
- 프로세스의 대기 시간과 응답 시간을 줄임
- 시스템의 처리량과 성능을 향상

### CPU 스케줄링 알고리즘

- 선입선출(First In First Out) - FIFO
- 최단 작업 우선 스케줄링(Shortest Job First Scheduling) - SJF
- 최소 잔류 시간 우선 스케줄링(Shortest Remaining Time First Scheduling) - SRTF
- 우선순위 스케줄링(Priority Scheduling)
- 라운드로빈(Round Robin)
- 멀티 레벨 큐(Multilevel Queue)
- 멀티 레벨 피드백 큐(Muiltilevel Feedback Queue)
- 등…

---

## 비선점형 스케줄링

- 실행 중인 프로세스가 CPU를 점유하고 있을 때, 다른 프로세스가 CPU의 제어권을 강제로 빼앗을 수 있는 스케줄링 방식

### 장점

- 긴급한 작업이나 짧은 작업을 빠르게 처리할 수 있다.

### 단점

- 프로세스가 자주 교체되면 오버헤드가 발생한다.
- 프로세스의 실행 순서를 예측하기 어렵다.

### 예시

- 라운드로빈(Round Robin)
- 우선순위 스케줄링(Priority Scheduling)
- 등…

---

## 선점형 스케줄링

- 실행 중인 프로세스가 CPU를 점유하고 있을 때, 다른 프로세스가 CPU의 제어권을 강제로 빼앗을 수 없는 스케줄링 방식

### 장점

- 프로세스의 교체가 적게 일어나서 오버헤드가 줄어든다.
- 프로세스의 실행 순서를 예측하기 쉽다.

### 단점

- 처리 시간이 긴 작업이 CPU를 오랫동안 점유하면, 다른 작업을이 오래 기다리는 일이 발생한다.

### 예시

- 선입선출(First In First Out)
- 최단 작업 우선 스케줄링(Shortest Job First Scheduliing)
- 등…

---

## 기아 현상

- 프로세스가 CPU를 할당받지 못하고 무한정 대기하는 상황.

### 문제점

- CPU 스케줄링 알고리즘의 성능에 안좋은 영향을 미친다.
- 프로세스의 응답 시간과 처리량을 저하시킬 수 있다.

## 기아 현상 해결 방법

### 1. 에이징(Aging)

- 프로세스가 대기 큐에서 **`기다릴 수록 우선순위를 증가`**시켜주는 방식.
- 주로 **`우선순위 기반의 스케줄링`** 알고리즘에서 사용.

### 2. 피드백(Feedback)

- 프로세스가 CPU를 **`사용할 수록 우선순위를 감소`**시켜주는 방식
- 주로 다단계 큐(Multilevel Queue) 또는 다단계 피드백 큐(Mulitilevel Feedback Queue)와 같은 스케줄링 알고리즘에 사용.

### 3. 페어 스케줄링(Fair Scheduling)

- 모든 프로세스에게 **`동일한 비율의 CPU 시간을 할당`**해주는 방식

---

## 프로세스 상태

- 프로세스가 시스템 내에 존재하는 동안 프로세스가 변화하는 상태들

![Untitled](https://github.com/2024-Computer-Science/2024-Computer-Science/assets/21362256/82238720-9b15-4736-bb02-fb2e96b016c4)


### 프로세스 상태 종류

- 생성(New): 프로세스 생성 상태
- 준비(Ready): 프로세스가 CPU에 할당받기를 기다리는 상태
- 실행(Running): 프로세스가 CPU에 할당받아서 실행 중인 상태
- 대기(Waiting): 프로세스가 입출력이나 이벤트를 기다리는 상태
- 종료(Terminated): 프로세스가 실행을 끝내고 종료한 상태

### 프로세스 상태 전이

- Admitted: 프로세스 생성을 승인받음
- Dispatch: 준비 상태에 있는 여러 프로세스들 중 하나가 스케줄러에 의해 실행되는 상태
- Interrupt: 타임 아웃, 입출력 등이 발생하여 현재 실행 중인 프로세스를 준비 상태로 전환하고 해당 작업을 먼저 처리
- I/O or event Wait: 실행 중인 프로세스가 입출력이나 이벤트를 처리해야 하는 경우, 입출력이나 이벤트가 끝날 때까지 대기 상태로 전환
- I/O or event Completion: 입출력이나 이벤트가 모두 끝난 프로세스를 다시 준비 상태로 만들어 스케줄러에 의해 선택될 수 있는 상태로 전환

<aside>
💡 TimeOut이란?
→ 프로세스가 제한된 시간을 다 소비하여 CPU 점유 상태를 뺏기는 것.
ex) 한 프로세스에 주어진 시간이 3초일 때, 3초 안에 작업을 다 처리하지 못하면 그 프로세스는 강제로 준비 상태로 이동하게 된다.
(CPU 독점 방지에 용이)

</aside>

---

## CPU 스케줄링의 종류

<aside>
💡 <다양한 스케줄링>
https://velog.io/@yoonuk/운영체제-CPU-스케줄링

</aside>

---

## CPU 스케줄링의 성능 척도

- 스케줄링 알고리즘 별 성능을 비교하기 위한 척도.
- (시스템 관점 / 사용자 관점)으로 나눌 수 있다.

### 시스템 관점

1. CPU utilization(CPU 이용률)
    - CPU가 쉬지 않고 일한 시간의 비율.
    - CPU 이용률은 높을 수록 좋음.
    - CPU 스케줄링에 따라서 이용률이 달라질 수 있음.(어떤 프로세스를 먼저 처리하는지에 대한…)

<aside>
💡 https://structuring.tistory.com/133

</aside>
